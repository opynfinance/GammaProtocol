<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: UmlClassDiagram Pages: 1 -->
<svg width="5746pt" height="2446pt"
 viewBox="0.00 0.00 5746.13 2446.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 2442)">
<title>UmlClassDiagram</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-2442 5742.1271,-2442 5742.1271,4 -4,4"/>
<!-- 0 -->
<g id="node1" class="node">
<title>0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="0,-445.7 0,-1040.9 336.7358,-1040.9 336.7358,-445.7 0,-445.7"/>
<text text-anchor="middle" x="168.3679" y="-1024.3" font-family="Times,serif" font-size="14.00" fill="#000000">AddressBook</text>
<polyline fill="none" stroke="#000000" points="0,-1016.1 336.7358,-1016.1 "/>
<text text-anchor="start" x="8" y="-999.5" font-family="Times,serif" font-size="14.00" fill="#000000">Private:</text>
<text text-anchor="start" x="8" y="-982.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;OTOKEN_IMPL: bytes32</text>
<text text-anchor="start" x="8" y="-965.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;OTOKEN_FACTORY: bytes32</text>
<text text-anchor="start" x="8" y="-949.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;WHITELIST: bytes32</text>
<text text-anchor="start" x="8" y="-932.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;CONTROLLER: bytes32</text>
<text text-anchor="start" x="8" y="-915.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;MARGIN_POOL: bytes32</text>
<text text-anchor="start" x="8" y="-898.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;MARGIN_CALCULATOR: bytes32</text>
<text text-anchor="start" x="8" y="-881.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;LIQUIDATION_MANAGER: bytes32</text>
<text text-anchor="start" x="8" y="-865.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;ORACLE: bytes32</text>
<text text-anchor="start" x="8" y="-848.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;addresses: mapping(bytes32=&gt;address)</text>
<polyline fill="none" stroke="#000000" points="0,-840.1 336.7358,-840.1 "/>
<text text-anchor="start" x="8" y="-823.5" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="8" y="-806.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getOtokenImpl(): address</text>
<text text-anchor="start" x="8" y="-789.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getOtokenFactory(): address</text>
<text text-anchor="start" x="8" y="-773.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getWhitelist(): address</text>
<text text-anchor="start" x="8" y="-756.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getController(): address</text>
<text text-anchor="start" x="8" y="-739.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getMarginPool(): address</text>
<text text-anchor="start" x="8" y="-722.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getMarginCalculator(): address</text>
<text text-anchor="start" x="8" y="-705.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getLiquidationManager(): address</text>
<text text-anchor="start" x="8" y="-689.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getOracle(): address</text>
<text text-anchor="start" x="8" y="-672.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setOtokenImpl(_otokenImpl: address)</text>
<text text-anchor="start" x="8" y="-655.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setOtokenFactory(_otokenFactory: address)</text>
<text text-anchor="start" x="8" y="-638.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setWhitelist(_whitelist: address)</text>
<text text-anchor="start" x="8" y="-621.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setController(_controller: address)</text>
<text text-anchor="start" x="8" y="-605.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setMarginPool(_marginPool: address)</text>
<text text-anchor="start" x="8" y="-588.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setMarginCalculator(_marginCalculator: address)</text>
<text text-anchor="start" x="8" y="-571.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setLiquidationManager(_liquidationManager: address)</text>
<text text-anchor="start" x="8" y="-554.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setOracle(_oracle: address)</text>
<text text-anchor="start" x="8" y="-537.9" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="8" y="-521.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; ProxyCreated(id: bytes32, proxy: address)</text>
<text text-anchor="start" x="8" y="-504.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; AddressAdded(id: bytes32, add: address)</text>
<text text-anchor="start" x="8" y="-487.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getAddress(_key: bytes32): address</text>
<text text-anchor="start" x="8" y="-470.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setAddress(_key: bytes32, _address: address)</text>
<text text-anchor="start" x="8" y="-453.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;updateImpl(_id: bytes32, _newAddress: address)</text>
</g>
<!-- 1 -->
<g id="node2" class="node">
<title>1</title>
<polygon fill="#f2f2f2" stroke="#000000" points="354.974,-.5 354.974,-1486.1 1415.7618,-1486.1 1415.7618,-.5 354.974,-.5"/>
<text text-anchor="middle" x="885.3679" y="-1469.5" font-family="Times,serif" font-size="14.00" fill="#000000">Controller</text>
<polyline fill="none" stroke="#000000" points="354.974,-1461.3 1415.7618,-1461.3 "/>
<text text-anchor="start" x="362.974" y="-1444.7" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="362.974" y="-1427.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;BASE: uint256</text>
<text text-anchor="start" x="362.974" y="-1411.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;accountVaultCounter: mapping(address=&gt;uint256)</text>
<text text-anchor="start" x="362.974" y="-1394.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;vaults: mapping(address=&gt;mapping(uint256=&gt;MarginVault.Vault))</text>
<text text-anchor="start" x="362.974" y="-1377.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;operators: mapping(address=&gt;mapping(address=&gt;bool))</text>
<text text-anchor="start" x="362.974" y="-1360.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;vaultType: mapping(address=&gt;mapping(uint256=&gt;uint256))</text>
<text text-anchor="start" x="362.974" y="-1343.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;vaultLatestUpdate: mapping(address=&gt;mapping(uint256=&gt;uint256))</text>
<text text-anchor="start" x="362.974" y="-1327.1" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="362.974" y="-1310.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;addressbook: AddressBookInterface</text>
<text text-anchor="start" x="362.974" y="-1293.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;whitelist: WhitelistInterface</text>
<text text-anchor="start" x="362.974" y="-1276.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;oracle: OracleInterface</text>
<text text-anchor="start" x="362.974" y="-1259.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;calculator: MarginCalculatorInterface</text>
<text text-anchor="start" x="362.974" y="-1243.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;pool: MarginPoolInterface</text>
<text text-anchor="start" x="362.974" y="-1226.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;partialPauser: address</text>
<text text-anchor="start" x="362.974" y="-1209.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;fullPauser: address</text>
<text text-anchor="start" x="362.974" y="-1192.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;systemPartiallyPaused: bool</text>
<text text-anchor="start" x="362.974" y="-1175.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;systemFullyPaused: bool</text>
<text text-anchor="start" x="362.974" y="-1159.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;callRestricted: bool</text>
<polyline fill="none" stroke="#000000" points="354.974,-1150.9 1415.7618,-1150.9 "/>
<text text-anchor="start" x="362.974" y="-1134.3" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="362.974" y="-1117.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_isNotPartiallyPaused()</text>
<text text-anchor="start" x="362.974" y="-1100.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_isNotFullyPaused()</text>
<text text-anchor="start" x="362.974" y="-1083.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_isAuthorized(_sender: address, _accountOwner: address)</text>
<text text-anchor="start" x="362.974" y="-1067.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_runActions(_actions: Actions.ActionArgs[]): (bool, address, uint256)</text>
<text text-anchor="start" x="362.974" y="-1050.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_verifyFinalState(_owner: address, _vaultId: uint256)</text>
<text text-anchor="start" x="362.974" y="-1033.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_openVault(_args: Actions.OpenVaultArgs)</text>
<text text-anchor="start" x="362.974" y="-1016.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_depositLong(_args: Actions.DepositArgs)</text>
<text text-anchor="start" x="362.974" y="-999.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_withdrawLong(_args: Actions.WithdrawArgs)</text>
<text text-anchor="start" x="362.974" y="-983.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_depositCollateral(_args: Actions.DepositArgs)</text>
<text text-anchor="start" x="362.974" y="-966.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_withdrawCollateral(_args: Actions.WithdrawArgs)</text>
<text text-anchor="start" x="362.974" y="-949.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_mintOtoken(_args: Actions.MintArgs)</text>
<text text-anchor="start" x="362.974" y="-932.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_burnOtoken(_args: Actions.BurnArgs)</text>
<text text-anchor="start" x="362.974" y="-915.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_redeem(_args: Actions.RedeemArgs)</text>
<text text-anchor="start" x="362.974" y="-899.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_settleVault(_args: Actions.SettleVaultArgs)</text>
<text text-anchor="start" x="362.974" y="-882.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_liquidate(_args: Actions.LiquidateArgs)</text>
<text text-anchor="start" x="362.974" y="-865.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_call(_args: Actions.CallArgs): uint256</text>
<text text-anchor="start" x="362.974" y="-848.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_checkVaultId(_accountOwner: address, _vaultId: uint256): bool</text>
<text text-anchor="start" x="362.974" y="-831.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_isNotEmpty(_array: address[]): bool</text>
<text text-anchor="start" x="362.974" y="-815.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_isCalleeWhitelisted(_callee: address): bool</text>
<text text-anchor="start" x="362.974" y="-798.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_isLiquidatable(_owner: address, _vaultId: uint256, _roundId: uint256): (MarginVault.Vault, bool, uint256, uint256)</text>
<text text-anchor="start" x="362.974" y="-781.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_refreshConfigInternal()</text>
<text text-anchor="start" x="362.974" y="-764.7" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="362.974" y="-747.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;initialize(_addressBook: address, _owner: address)</text>
<text text-anchor="start" x="362.974" y="-731.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;donate(_asset: address, _amount: uint256)</text>
<text text-anchor="start" x="362.974" y="-714.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setSystemPartiallyPaused(_partiallyPaused: bool)</text>
<text text-anchor="start" x="362.974" y="-697.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setSystemFullyPaused(_fullyPaused: bool)</text>
<text text-anchor="start" x="362.974" y="-680.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setFullPauser(_fullPauser: address)</text>
<text text-anchor="start" x="362.974" y="-663.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setPartialPauser(_partialPauser: address)</text>
<text text-anchor="start" x="362.974" y="-647.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setCallRestriction(_isRestricted: bool)</text>
<text text-anchor="start" x="362.974" y="-630.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setOperator(_operator: address, _isOperator: bool)</text>
<text text-anchor="start" x="362.974" y="-613.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;refreshConfiguration()</text>
<text text-anchor="start" x="362.974" y="-596.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;operate(_actions: Actions.ActionArgs[])</text>
<text text-anchor="start" x="362.974" y="-579.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;sync(_owner: address, _vaultId: uint256)</text>
<text text-anchor="start" x="362.974" y="-563.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;isOperator(_owner: address, _operator: address): bool</text>
<text text-anchor="start" x="362.974" y="-546.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getConfiguration(): (address, address, address, address)</text>
<text text-anchor="start" x="362.974" y="-529.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getProceed(_owner: address, _vaultId: uint256): uint256</text>
<text text-anchor="start" x="362.974" y="-512.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;isLiquidatable(_owner: address, _vaultId: uint256, _roundId: uint256): (bool, uint256, uint256)</text>
<text text-anchor="start" x="362.974" y="-495.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getAccountVaultCounter(_accountOwner: address): uint256</text>
<text text-anchor="start" x="362.974" y="-479.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;hasExpired(_otoken: address): bool</text>
<text text-anchor="start" x="362.974" y="-462.3" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="362.974" y="-445.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; AccountOperatorUpdated(accountOwner: address, operator: address, isSet: bool)</text>
<text text-anchor="start" x="362.974" y="-428.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; VaultOpened(accountOwner: address, vaultId: uint256, vaultType: uint256)</text>
<text text-anchor="start" x="362.974" y="-411.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; LongOtokenDeposited(otoken: address, accountOwner: address, from: address, vaultId: uint256, amount: uint256)</text>
<text text-anchor="start" x="362.974" y="-395.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; LongOtokenWithdrawed(otoken: address, AccountOwner: address, to: address, vaultId: uint256, amount: uint256)</text>
<text text-anchor="start" x="362.974" y="-378.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; CollateralAssetDeposited(asset: address, accountOwner: address, from: address, vaultId: uint256, amount: uint256)</text>
<text text-anchor="start" x="362.974" y="-361.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; CollateralAssetWithdrawed(asset: address, AccountOwner: address, to: address, vaultId: uint256, amount: uint256)</text>
<text text-anchor="start" x="362.974" y="-344.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; ShortOtokenMinted(otoken: address, AccountOwner: address, to: address, vaultId: uint256, amount: uint256)</text>
<text text-anchor="start" x="362.974" y="-327.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; ShortOtokenBurned(otoken: address, AccountOwner: address, from: address, vaultId: uint256, amount: uint256)</text>
<text text-anchor="start" x="362.974" y="-311.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; Redeem(otoken: address, redeemer: address, receiver: address, collateralAsset: address, otokenBurned: uint256, payout: uint256)</text>
<text text-anchor="start" x="362.974" y="-294.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; VaultSettled(AccountOwner: address, to: address, otoken: address, vaultId: uint256, payout: uint256)</text>
<text text-anchor="start" x="362.974" y="-277.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; VaultLiquidated(liquidator: address, receiver: address, vaultOwner: address, debt: uint256, auctionPrice: uint256, collateralPayout: uint256, auctionStartingRound: uint256)</text>
<text text-anchor="start" x="362.974" y="-260.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; CallExecuted(from: address, to: address, data: bytes)</text>
<text text-anchor="start" x="362.974" y="-243.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; FullPauserUpdated(oldFullPauser: address, newFullPauser: address)</text>
<text text-anchor="start" x="362.974" y="-227.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; PartialPauserUpdated(oldPartialPauser: address, newPartialPauser: address)</text>
<text text-anchor="start" x="362.974" y="-210.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; SystemPartiallyPaused(isPaused: bool)</text>
<text text-anchor="start" x="362.974" y="-193.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; SystemFullyPaused(isPaused: bool)</text>
<text text-anchor="start" x="362.974" y="-176.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; CallRestricted(isRestricted: bool)</text>
<text text-anchor="start" x="362.974" y="-159.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; Donated(donator: address, asset: address, amount: uint256)</text>
<text text-anchor="start" x="362.974" y="-143.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; notPartiallyPaused()</text>
<text text-anchor="start" x="362.974" y="-126.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; notFullyPaused()</text>
<text text-anchor="start" x="362.974" y="-109.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyFullPauser()</text>
<text text-anchor="start" x="362.974" y="-92.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyPartialPauser()</text>
<text text-anchor="start" x="362.974" y="-75.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyAuthorized(_sender: address, _accountOwner: address)</text>
<text text-anchor="start" x="362.974" y="-59.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyWhitelistedCallee(_callee: address)</text>
<text text-anchor="start" x="362.974" y="-42.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getPayout(_otoken: address, _amount: uint256): uint256</text>
<text text-anchor="start" x="362.974" y="-25.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;isSettlementAllowed(_underlying: address, _strike: address, _collateral: address, _expiry: uint256): bool</text>
<text text-anchor="start" x="362.974" y="-8.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getVault(_owner: address, _vaultId: uint256): (MarginVault.Vault, uint256, uint256)</text>
</g>
<!-- 2 -->
<g id="node3" class="node">
<title>2</title>
<polygon fill="#f2f2f2" stroke="#000000" points="1068.8873,-1523.1 1068.8873,-2437.5 2483.8485,-2437.5 2483.8485,-1523.1 1068.8873,-1523.1"/>
<text text-anchor="middle" x="1776.3679" y="-2420.9" font-family="Times,serif" font-size="14.00" fill="#000000">MarginCalculator</text>
<polyline fill="none" stroke="#000000" points="1068.8873,-2412.7 2483.8485,-2412.7 "/>
<text text-anchor="start" x="1076.8873" y="-2396.1" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="1076.8873" y="-2379.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;SCALING_FACTOR: uint256</text>
<text text-anchor="start" x="1076.8873" y="-2362.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;BASE: uint256</text>
<text text-anchor="start" x="1076.8873" y="-2345.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;oracleDeviation: uint256</text>
<text text-anchor="start" x="1076.8873" y="-2328.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;ZERO: FPI.FixedPointInt</text>
<text text-anchor="start" x="1076.8873" y="-2312.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;dust: mapping(address=&gt;uint256)</text>
<text text-anchor="start" x="1076.8873" y="-2295.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;timesToExpiryForProduct: mapping(bytes32=&gt;uint256[])</text>
<text text-anchor="start" x="1076.8873" y="-2278.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;maxPriceAtTimeToExpiry: mapping(bytes32=&gt;mapping(uint256=&gt;uint256))</text>
<text text-anchor="start" x="1076.8873" y="-2261.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;spotShock: mapping(bytes32=&gt;uint256)</text>
<text text-anchor="start" x="1076.8873" y="-2244.9" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="1076.8873" y="-2228.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;AUCTION_TIME: uint256</text>
<text text-anchor="start" x="1076.8873" y="-2211.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;oracle: OracleInterface</text>
<polyline fill="none" stroke="#000000" points="1068.8873,-2203.1 2483.8485,-2203.1 "/>
<text text-anchor="start" x="1076.8873" y="-2186.5" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="1076.8873" y="-2169.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_getExpiredCashValue(_underlying: address, _strike: address, _expiryTimestamp: uint256, _strikePrice: uint256, _isPut: bool): FPI.FixedPointInt</text>
<text text-anchor="start" x="1076.8873" y="-2152.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_getMarginRequired(_vault: MarginVault.Vault, _vaultDetails: VaultDetails): (FPI.FixedPointInt, FPI.FixedPointInt)</text>
<text text-anchor="start" x="1076.8873" y="-2136.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_getNakedMarginRequired(_productHash: bytes32, _shortAmount: FPI.FixedPointInt, _strikePrice: FPI.FixedPointInt, _underlyingPrice: FPI.FixedPointInt, _shortExpiryTimestamp: uint256, _isPut: bool): FPI.FixedPointInt</text>
<text text-anchor="start" x="1076.8873" y="-2119.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_findUpperBoundValue(_productHash: bytes32, _expiryTimestamp: uint256): FPI.FixedPointInt</text>
<text text-anchor="start" x="1076.8873" y="-2102.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_getPutSpreadMarginRequired(_shortAmount: FPI.FixedPointInt, _longAmount: FPI.FixedPointInt, _shortStrike: FPI.FixedPointInt, _longStrike: FPI.FixedPointInt): FPI.FixedPointInt</text>
<text text-anchor="start" x="1076.8873" y="-2085.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_getCallSpreadMarginRequired(_shortAmount: FPI.FixedPointInt, _longAmount: FPI.FixedPointInt, _shortStrike: FPI.FixedPointInt, _longStrike: FPI.FixedPointInt): FPI.FixedPointInt</text>
<text text-anchor="start" x="1076.8873" y="-2068.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_convertAmountOnLivePrice(_amount: FPI.FixedPointInt, _assetA: address, _assetB: address): FPI.FixedPointInt</text>
<text text-anchor="start" x="1076.8873" y="-2052.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_convertAmountOnExpiryPrice(_amount: FPI.FixedPointInt, _assetA: address, _assetB: address, _expiry: uint256): FPI.FixedPointInt</text>
<text text-anchor="start" x="1076.8873" y="-2035.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_getDebtPrice(_vaultCollateral: FPI.FixedPointInt, _vaultDebt: FPI.FixedPointInt, _cashValue: FPI.FixedPointInt, _spotPrice: FPI.FixedPointInt, _auctionStartingTime: uint256, _collateralDecimals: uint256, _isPut: bool): uint256</text>
<text text-anchor="start" x="1076.8873" y="-2018.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_getVaultDetails(_vault: MarginVault.Vault, _vaultType: uint256): VaultDetails</text>
<text text-anchor="start" x="1076.8873" y="-2001.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_getExpiredSpreadCashValue(_shortAmount: FPI.FixedPointInt, _longAmount: FPI.FixedPointInt, _shortCashValue: FPI.FixedPointInt, _longCashValue: FPI.FixedPointInt): FPI.FixedPointInt</text>
<text text-anchor="start" x="1076.8873" y="-1984.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_isNotEmpty(_assets: address[]): bool</text>
<text text-anchor="start" x="1076.8873" y="-1968.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_checkIsValidVault(_vault: MarginVault.Vault, _vaultDetails: VaultDetails)</text>
<text text-anchor="start" x="1076.8873" y="-1951.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_isMarginableLong(_vault: MarginVault.Vault, _vaultDetails: VaultDetails): bool</text>
<text text-anchor="start" x="1076.8873" y="-1934.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_isMarginableCollateral(_vault: MarginVault.Vault, _vaultDetails: VaultDetails): bool</text>
<text text-anchor="start" x="1076.8873" y="-1917.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_getProductHash(_underlying: address, _strike: address, _collateral: address, _isPut: bool): bytes32</text>
<text text-anchor="start" x="1076.8873" y="-1900.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_getCashValue(_strikePrice: FPI.FixedPointInt, _underlyingPrice: FPI.FixedPointInt, _isPut: bool): FPI.FixedPointInt</text>
<text text-anchor="start" x="1076.8873" y="-1884.1" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="1076.8873" y="-1867.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setCollateralDust(_collateral: address, _dust: uint256)</text>
<text text-anchor="start" x="1076.8873" y="-1850.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setUpperBoundValues(_underlying: address, _strike: address, _collateral: address, _isPut: bool, _timesToExpiry: uint256[], _values: uint256[])</text>
<text text-anchor="start" x="1076.8873" y="-1833.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;updateUpperBoundValue(_underlying: address, _strike: address, _collateral: address, _isPut: bool, _timeToExpiry: uint256, _value: uint256)</text>
<text text-anchor="start" x="1076.8873" y="-1816.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setSpotShock(_underlying: address, _strike: address, _collateral: address, _isPut: bool, _shockValue: uint256)</text>
<text text-anchor="start" x="1076.8873" y="-1800.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setOracleDeviation(_deviation: uint256)</text>
<text text-anchor="start" x="1076.8873" y="-1783.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getCollateralDust(_collateral: address): uint256</text>
<text text-anchor="start" x="1076.8873" y="-1766.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getTimesToExpiry(_underlying: address, _strike: address, _collateral: address, _isPut: bool): uint256[]</text>
<text text-anchor="start" x="1076.8873" y="-1749.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getMaxPrice(_underlying: address, _strike: address, _collateral: address, _isPut: bool, _timeToExpiry: uint256): uint256</text>
<text text-anchor="start" x="1076.8873" y="-1732.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getSpotShock(_underlying: address, _strike: address, _collateral: address, _isPut: bool): uint256</text>
<text text-anchor="start" x="1076.8873" y="-1716.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getOracleDeviation(): uint256</text>
<text text-anchor="start" x="1076.8873" y="-1699.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getNakedMarginRequired(_underlying: address, _strike: address, _collateral: address, _shortAmount: uint256, _strikePrice: uint256, _underlyingPrice: uint256, _shortExpiryTimestamp: uint256, _collateralDecimals: uint256, _isPut: bool): uint256</text>
<text text-anchor="start" x="1076.8873" y="-1682.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getExpiredPayoutRate(_otoken: address): uint256</text>
<text text-anchor="start" x="1076.8873" y="-1665.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;isLiquidatable(_vault: MarginVault.Vault, _vaultType: uint256, _vaultLatestUpdate: uint256, _roundId: uint256): (bool, uint256, uint256)</text>
<text text-anchor="start" x="1076.8873" y="-1648.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getMarginRequired(_vault: MarginVault.Vault, _vaultType: uint256): (FPI.FixedPointInt, FPI.FixedPointInt)</text>
<text text-anchor="start" x="1076.8873" y="-1632.1" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="1076.8873" y="-1615.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; CollateralDustUpdated(collateral: address, dust: uint256)</text>
<text text-anchor="start" x="1076.8873" y="-1598.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; TimeToExpiryAdded(productHash: bytes32, timeToExpiry: uint256)</text>
<text text-anchor="start" x="1076.8873" y="-1581.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; MaxPriceAdded(productHash: bytes32, timeToExpiry: uint256, value: uint256)</text>
<text text-anchor="start" x="1076.8873" y="-1564.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; SpotShockUpdated(product: bytes32, spotShock: uint256)</text>
<text text-anchor="start" x="1076.8873" y="-1548.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor(_oracle: address)</text>
<text text-anchor="start" x="1076.8873" y="-1531.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getExcessCollateral(_vault: MarginVault.Vault, _vaultType: uint256): (uint256, bool)</text>
</g>
<!-- 2struct0 -->
<g id="node4" class="node">
<title>2struct0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="1434.249,-558.9 1434.249,-927.7 1636.4868,-927.7 1636.4868,-558.9 1434.249,-558.9"/>
<text text-anchor="middle" x="1535.3679" y="-911.1" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="1535.3679" y="-894.3" font-family="Times,serif" font-size="14.00" fill="#000000">VaultDetails</text>
<polyline fill="none" stroke="#000000" points="1434.249,-886.1 1636.4868,-886.1 "/>
<text text-anchor="start" x="1442.249" y="-869.5" font-family="Times,serif" font-size="14.00" fill="#000000">shortUnderlyingAsset: address</text>
<text text-anchor="start" x="1442.249" y="-852.7" font-family="Times,serif" font-size="14.00" fill="#000000">shortStrikeAsset: address</text>
<text text-anchor="start" x="1442.249" y="-835.9" font-family="Times,serif" font-size="14.00" fill="#000000">shortCollateralAsset: address</text>
<text text-anchor="start" x="1442.249" y="-819.1" font-family="Times,serif" font-size="14.00" fill="#000000">longUnderlyingAsset: address</text>
<text text-anchor="start" x="1442.249" y="-802.3" font-family="Times,serif" font-size="14.00" fill="#000000">longStrikeAsset: address</text>
<text text-anchor="start" x="1442.249" y="-785.5" font-family="Times,serif" font-size="14.00" fill="#000000">longCollateralAsset: address</text>
<text text-anchor="start" x="1442.249" y="-768.7" font-family="Times,serif" font-size="14.00" fill="#000000">shortStrikePrice: uint256</text>
<text text-anchor="start" x="1442.249" y="-751.9" font-family="Times,serif" font-size="14.00" fill="#000000">shortExpiryTimestamp: uint256</text>
<text text-anchor="start" x="1442.249" y="-735.1" font-family="Times,serif" font-size="14.00" fill="#000000">shortCollateralDecimals: uint256</text>
<text text-anchor="start" x="1442.249" y="-718.3" font-family="Times,serif" font-size="14.00" fill="#000000">longStrikePrice: uint256</text>
<text text-anchor="start" x="1442.249" y="-701.5" font-family="Times,serif" font-size="14.00" fill="#000000">longExpiryTimestamp: uint256</text>
<text text-anchor="start" x="1442.249" y="-684.7" font-family="Times,serif" font-size="14.00" fill="#000000">longCollateralDecimals: uint256</text>
<text text-anchor="start" x="1442.249" y="-667.9" font-family="Times,serif" font-size="14.00" fill="#000000">collateralDecimals: uint256</text>
<text text-anchor="start" x="1442.249" y="-651.1" font-family="Times,serif" font-size="14.00" fill="#000000">vaultType: uint256</text>
<text text-anchor="start" x="1442.249" y="-634.3" font-family="Times,serif" font-size="14.00" fill="#000000">isShortPut: bool</text>
<text text-anchor="start" x="1442.249" y="-617.5" font-family="Times,serif" font-size="14.00" fill="#000000">isLongPut: bool</text>
<text text-anchor="start" x="1442.249" y="-600.7" font-family="Times,serif" font-size="14.00" fill="#000000">hasLong: bool</text>
<text text-anchor="start" x="1442.249" y="-583.9" font-family="Times,serif" font-size="14.00" fill="#000000">hasShort: bool</text>
<text text-anchor="start" x="1442.249" y="-567.1" font-family="Times,serif" font-size="14.00" fill="#000000">hasCollateral: bool</text>
</g>
<!-- 2struct0&#45;&gt;2 -->
<g id="edge1" class="edge">
<title>2struct0&#45;&gt;2</title>
<path fill="none" stroke="#000000" d="M1556.8328,-927.9707C1575.7895,-1078.9872 1606.4495,-1297.6629 1645.3679,-1486.6 1647.0207,-1494.6239 1648.7248,-1502.7115 1650.4744,-1510.848"/>
<polygon fill="#000000" stroke="#000000" points="1650.5236,-1511.0751 1655.7055,-1516.0899 1653.0695,-1522.8019 1647.8876,-1517.7871 1650.5236,-1511.0751"/>
</g>
<!-- 2struct1 -->
<g id="node5" class="node">
<title>2struct1</title>
<polygon fill="#f2f2f2" stroke="#000000" points="1654.0474,-693.3 1654.0474,-793.3 1898.6884,-793.3 1898.6884,-693.3 1654.0474,-693.3"/>
<text text-anchor="middle" x="1776.3679" y="-776.7" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="1776.3679" y="-759.9" font-family="Times,serif" font-size="14.00" fill="#000000">ShortScaledDetails</text>
<polyline fill="none" stroke="#000000" points="1654.0474,-751.7 1898.6884,-751.7 "/>
<text text-anchor="start" x="1662.0474" y="-735.1" font-family="Times,serif" font-size="14.00" fill="#000000">shortAmount: FPI.FixedPointInt</text>
<text text-anchor="start" x="1662.0474" y="-718.3" font-family="Times,serif" font-size="14.00" fill="#000000">shortStrike: FPI.FixedPointInt</text>
<text text-anchor="start" x="1662.0474" y="-701.5" font-family="Times,serif" font-size="14.00" fill="#000000">shortUnderlyingPrice: FPI.FixedPointInt</text>
</g>
<!-- 2struct1&#45;&gt;2 -->
<g id="edge2" class="edge">
<title>2struct1&#45;&gt;2</title>
<path fill="none" stroke="#000000" d="M1776.3679,-793.3239C1776.3679,-914.4108 1776.3679,-1233.7406 1776.3679,-1510.7114"/>
<polygon fill="#000000" stroke="#000000" points="1776.368,-1511.035 1780.3679,-1517.0351 1776.3679,-1523.035 1772.3679,-1517.035 1776.368,-1511.035"/>
</g>
<!-- 2struct2 -->
<g id="node6" class="node">
<title>2struct2</title>
<polygon fill="#f2f2f2" stroke="#000000" points="1916.1985,-676.5 1916.1985,-810.1 2114.5373,-810.1 2114.5373,-676.5 1916.1985,-676.5"/>
<text text-anchor="middle" x="2015.3679" y="-793.5" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="2015.3679" y="-776.7" font-family="Times,serif" font-size="14.00" fill="#000000">OtokenDetails</text>
<polyline fill="none" stroke="#000000" points="1916.1985,-768.5 2114.5373,-768.5 "/>
<text text-anchor="start" x="1924.1985" y="-751.9" font-family="Times,serif" font-size="14.00" fill="#000000">otokenUnderlyingAsset: address</text>
<text text-anchor="start" x="1924.1985" y="-735.1" font-family="Times,serif" font-size="14.00" fill="#000000">otokenCollateralAsset: address</text>
<text text-anchor="start" x="1924.1985" y="-718.3" font-family="Times,serif" font-size="14.00" fill="#000000">otokenStrikeAsset: address</text>
<text text-anchor="start" x="1924.1985" y="-701.5" font-family="Times,serif" font-size="14.00" fill="#000000">otokenExpiry: uint256</text>
<text text-anchor="start" x="1924.1985" y="-684.7" font-family="Times,serif" font-size="14.00" fill="#000000">isPut: bool</text>
</g>
<!-- 2struct2&#45;&gt;2 -->
<g id="edge3" class="edge">
<title>2struct2&#45;&gt;2</title>
<path fill="none" stroke="#000000" d="M2008.2718,-810.1229C1993.8148,-940.8456 1957.9815,-1239.2376 1907.3679,-1486.6 1905.7257,-1494.626 1904.0314,-1502.7157 1902.2909,-1510.854"/>
<polygon fill="#000000" stroke="#000000" points="1902.2419,-1511.081 1904.8851,-1517.7903 1899.7085,-1522.8106 1897.0654,-1516.1013 1902.2419,-1511.081"/>
</g>
<!-- 3 -->
<g id="node7" class="node">
<title>3</title>
<polygon fill="#f2f2f2" stroke="#000000" points="2259.6542,-546.5 2259.6542,-940.1 2723.0816,-940.1 2723.0816,-546.5 2259.6542,-546.5"/>
<text text-anchor="middle" x="2491.3679" y="-923.5" font-family="Times,serif" font-size="14.00" fill="#000000">MarginPool</text>
<polyline fill="none" stroke="#000000" points="2259.6542,-915.3 2723.0816,-915.3 "/>
<text text-anchor="start" x="2267.6542" y="-898.7" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="2267.6542" y="-881.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;assetBalance: mapping(address=&gt;uint256)</text>
<text text-anchor="start" x="2267.6542" y="-865.1" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="2267.6542" y="-848.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;addressBook: address</text>
<text text-anchor="start" x="2267.6542" y="-831.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;farmer: address</text>
<polyline fill="none" stroke="#000000" points="2259.6542,-823.3 2723.0816,-823.3 "/>
<text text-anchor="start" x="2267.6542" y="-806.7" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="2267.6542" y="-789.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getStoredBalance(_asset: address): uint256</text>
<text text-anchor="start" x="2267.6542" y="-773.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;batchTransferToPool(_asset: address[], _user: address[], _amount: uint256[])</text>
<text text-anchor="start" x="2267.6542" y="-756.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;batchTransferToUser(_asset: address[], _user: address[], _amount: uint256[])</text>
<text text-anchor="start" x="2267.6542" y="-739.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;farm(_asset: address, _receiver: address, _amount: uint256)</text>
<text text-anchor="start" x="2267.6542" y="-722.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setFarmer(_farmer: address)</text>
<text text-anchor="start" x="2267.6542" y="-705.9" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="2267.6542" y="-689.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; TransferToPool(asset: address, user: address, amount: uint256)</text>
<text text-anchor="start" x="2267.6542" y="-672.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; TransferToUser(asset: address, user: address, amount: uint256)</text>
<text text-anchor="start" x="2267.6542" y="-655.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; FarmerUpdated(oldAddress: address, newAddress: address)</text>
<text text-anchor="start" x="2267.6542" y="-638.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; AssetFarmed(asset: address, receiver: address, amount: uint256)</text>
<text text-anchor="start" x="2267.6542" y="-621.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyController()</text>
<text text-anchor="start" x="2267.6542" y="-605.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyFarmer()</text>
<text text-anchor="start" x="2267.6542" y="-588.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor(_addressBook: address)</text>
<text text-anchor="start" x="2267.6542" y="-571.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;transferToPool(_asset: address, _user: address, _amount: uint256)</text>
<text text-anchor="start" x="2267.6542" y="-554.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;transferToUser(_asset: address, _user: address, _amount: uint256)</text>
</g>
<!-- 4 -->
<g id="node8" class="node">
<title>4</title>
<polygon fill="#f2f2f2" stroke="#000000" points="2501.4327,-1691.1 2501.4327,-2269.5 3359.3031,-2269.5 3359.3031,-1691.1 2501.4327,-1691.1"/>
<text text-anchor="middle" x="2930.3679" y="-2252.9" font-family="Times,serif" font-size="14.00" fill="#000000">Oracle</text>
<polyline fill="none" stroke="#000000" points="2501.4327,-2244.7 3359.3031,-2244.7 "/>
<text text-anchor="start" x="2509.4327" y="-2228.1" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="2509.4327" y="-2211.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;pricerLockingPeriod: mapping(address=&gt;uint256)</text>
<text text-anchor="start" x="2509.4327" y="-2194.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;pricerDisputePeriod: mapping(address=&gt;uint256)</text>
<text text-anchor="start" x="2509.4327" y="-2177.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;assetPricer: mapping(address=&gt;address)</text>
<text text-anchor="start" x="2509.4327" y="-2160.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;storedPrice: mapping(address=&gt;mapping(uint256=&gt;Price))</text>
<text text-anchor="start" x="2509.4327" y="-2144.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;stablePrice: mapping(address=&gt;uint256)</text>
<text text-anchor="start" x="2509.4327" y="-2127.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;disputer: address</text>
<polyline fill="none" stroke="#000000" points="2501.4327,-2119.1 3359.3031,-2119.1 "/>
<text text-anchor="start" x="2509.4327" y="-2102.5" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="2509.4327" y="-2085.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setAssetPricer(_asset: address, _pricer: address)</text>
<text text-anchor="start" x="2509.4327" y="-2068.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setLockingPeriod(_pricer: address, _lockingPeriod: uint256)</text>
<text text-anchor="start" x="2509.4327" y="-2052.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setDisputePeriod(_pricer: address, _disputePeriod: uint256)</text>
<text text-anchor="start" x="2509.4327" y="-2035.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setDisputer(_disputer: address)</text>
<text text-anchor="start" x="2509.4327" y="-2018.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setStablePrice(_asset: address, _price: uint256)</text>
<text text-anchor="start" x="2509.4327" y="-2001.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;disputeExpiryPrice(_asset: address, _expiryTimestamp: uint256, _price: uint256)</text>
<text text-anchor="start" x="2509.4327" y="-1984.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setExpiryPrice(_asset: address, _expiryTimestamp: uint256, _price: uint256)</text>
<text text-anchor="start" x="2509.4327" y="-1968.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getPrice(_asset: address): uint256</text>
<text text-anchor="start" x="2509.4327" y="-1951.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getExpiryPrice(_asset: address, _expiryTimestamp: uint256): (uint256, bool)</text>
<text text-anchor="start" x="2509.4327" y="-1934.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getPricer(_asset: address): address</text>
<text text-anchor="start" x="2509.4327" y="-1917.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getDisputer(): address</text>
<text text-anchor="start" x="2509.4327" y="-1900.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getPricerLockingPeriod(_pricer: address): uint256</text>
<text text-anchor="start" x="2509.4327" y="-1884.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getPricerDisputePeriod(_pricer: address): uint256</text>
<text text-anchor="start" x="2509.4327" y="-1867.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getChainlinkRoundData(_asset: address, _roundId: uint80): (uint256, uint256)</text>
<text text-anchor="start" x="2509.4327" y="-1850.5" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="2509.4327" y="-1833.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; DisputerUpdated(newDisputer: address)</text>
<text text-anchor="start" x="2509.4327" y="-1816.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; PricerUpdated(asset: address, pricer: address)</text>
<text text-anchor="start" x="2509.4327" y="-1800.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; PricerLockingPeriodUpdated(pricer: address, lockingPeriod: uint256)</text>
<text text-anchor="start" x="2509.4327" y="-1783.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; PricerDisputePeriodUpdated(pricer: address, disputePeriod: uint256)</text>
<text text-anchor="start" x="2509.4327" y="-1766.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; ExpiryPriceUpdated(asset: address, expiryTimestamp: uint256, price: uint256, onchainTimestamp: uint256)</text>
<text text-anchor="start" x="2509.4327" y="-1749.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; ExpiryPriceDisputed(asset: address, expiryTimestamp: uint256, disputedPrice: uint256, newPrice: uint256, disputeTimestamp: uint256)</text>
<text text-anchor="start" x="2509.4327" y="-1732.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; StablePriceUpdated(asset: address, price: uint256)</text>
<text text-anchor="start" x="2509.4327" y="-1716.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;isLockingPeriodOver(_asset: address, _expiryTimestamp: uint256): bool</text>
<text text-anchor="start" x="2509.4327" y="-1699.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;isDisputePeriodOver(_asset: address, _expiryTimestamp: uint256): bool</text>
</g>
<!-- 4struct0 -->
<g id="node9" class="node">
<title>4struct0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="2868.1186,-701.7 2868.1186,-784.9 2992.6172,-784.9 2992.6172,-701.7 2868.1186,-701.7"/>
<text text-anchor="middle" x="2930.3679" y="-768.3" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="2930.3679" y="-751.5" font-family="Times,serif" font-size="14.00" fill="#000000">Price</text>
<polyline fill="none" stroke="#000000" points="2868.1186,-743.3 2992.6172,-743.3 "/>
<text text-anchor="start" x="2876.1186" y="-726.7" font-family="Times,serif" font-size="14.00" fill="#000000">price: uint256</text>
<text text-anchor="start" x="2876.1186" y="-709.9" font-family="Times,serif" font-size="14.00" fill="#000000">timestamp: uint256</text>
</g>
<!-- 4struct0&#45;&gt;4 -->
<g id="edge4" class="edge">
<title>4struct0&#45;&gt;4</title>
<path fill="none" stroke="#000000" d="M2930.3679,-785.166C2930.3679,-923.121 2930.3679,-1372.0714 2930.3679,-1678.6796"/>
<polygon fill="#000000" stroke="#000000" points="2930.368,-1678.8909 2934.3679,-1684.8909 2930.3679,-1690.8909 2926.3679,-1684.8909 2930.368,-1678.8909"/>
</g>
<!-- 5 -->
<g id="node10" class="node">
<title>5</title>
<polygon fill="#f2f2f2" stroke="#000000" points="3010.7776,-529.7 3010.7776,-956.9 3985.9582,-956.9 3985.9582,-529.7 3010.7776,-529.7"/>
<text text-anchor="middle" x="3498.3679" y="-940.3" font-family="Times,serif" font-size="14.00" fill="#000000">Otoken</text>
<polyline fill="none" stroke="#000000" points="3010.7776,-932.1 3985.9582,-932.1 "/>
<text text-anchor="start" x="3018.7776" y="-915.5" font-family="Times,serif" font-size="14.00" fill="#000000">Private:</text>
<text text-anchor="start" x="3018.7776" y="-898.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;STRIKE_PRICE_SCALE: uint256</text>
<text text-anchor="start" x="3018.7776" y="-881.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;STRIKE_PRICE_DIGITS: uint256</text>
<text text-anchor="start" x="3018.7776" y="-865.1" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="3018.7776" y="-848.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;controller: address</text>
<text text-anchor="start" x="3018.7776" y="-831.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;underlyingAsset: address</text>
<text text-anchor="start" x="3018.7776" y="-814.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;strikeAsset: address</text>
<text text-anchor="start" x="3018.7776" y="-797.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;collateralAsset: address</text>
<text text-anchor="start" x="3018.7776" y="-781.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;strikePrice: uint256</text>
<text text-anchor="start" x="3018.7776" y="-764.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;expiryTimestamp: uint256</text>
<text text-anchor="start" x="3018.7776" y="-747.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;isPut: bool</text>
<polyline fill="none" stroke="#000000" points="3010.7776,-739.3 3985.9582,-739.3 "/>
<text text-anchor="start" x="3018.7776" y="-722.7" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="3018.7776" y="-705.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_getNameAndSymbol(): (tokenName: string, tokenSymbol: string)</text>
<text text-anchor="start" x="3018.7776" y="-689.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_getDisplayedStrikePrice(_strikePrice: uint256): string</text>
<text text-anchor="start" x="3018.7776" y="-672.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_uintTo2Chars(number: uint256): string</text>
<text text-anchor="start" x="3018.7776" y="-655.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_getOptionType(_isPut: bool): (shortString: string, longString: string)</text>
<text text-anchor="start" x="3018.7776" y="-638.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_slice(_s: string, _start: uint256, _end: uint256): string</text>
<text text-anchor="start" x="3018.7776" y="-621.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_getMonth(_month: uint256): (shortString: string, longString: string)</text>
<text text-anchor="start" x="3018.7776" y="-605.1" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="3018.7776" y="-588.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;init(_addressBook: address, _underlyingAsset: address, _strikeAsset: address, _collateralAsset: address, _strikePrice: uint256, _expiryTimestamp: uint256, _isPut: bool)</text>
<text text-anchor="start" x="3018.7776" y="-571.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getOtokenDetails(): (address, address, address, uint256, uint256, bool)</text>
<text text-anchor="start" x="3018.7776" y="-554.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;mintOtoken(account: address, amount: uint256)</text>
<text text-anchor="start" x="3018.7776" y="-537.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;burnOtoken(account: address, amount: uint256)</text>
</g>
<!-- 6 -->
<g id="node11" class="node">
<title>6</title>
<polygon fill="#f2f2f2" stroke="#000000" points="4003.7457,-588.5 4003.7457,-898.1 5004.9901,-898.1 5004.9901,-588.5 4003.7457,-588.5"/>
<text text-anchor="middle" x="4504.3679" y="-881.5" font-family="Times,serif" font-size="14.00" fill="#000000">OtokenFactory</text>
<polyline fill="none" stroke="#000000" points="4003.7457,-873.3 5004.9901,-873.3 "/>
<text text-anchor="start" x="4011.7457" y="-856.7" font-family="Times,serif" font-size="14.00" fill="#000000">Private:</text>
<text text-anchor="start" x="4011.7457" y="-839.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;idToAddress: mapping(bytes32=&gt;address)</text>
<text text-anchor="start" x="4011.7457" y="-823.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;MAX_EXPIRY: uint256</text>
<text text-anchor="start" x="4011.7457" y="-806.3" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="4011.7457" y="-789.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;addressBook: address</text>
<text text-anchor="start" x="4011.7457" y="-772.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;otokens: address[]</text>
<polyline fill="none" stroke="#000000" points="4003.7457,-764.5 5004.9901,-764.5 "/>
<text text-anchor="start" x="4011.7457" y="-747.9" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="4011.7457" y="-731.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_getOptionId(_underlyingAsset: address, _strikeAsset: address, _collateralAsset: address, _strikePrice: uint256, _expiry: uint256, _isPut: bool): bytes32</text>
<text text-anchor="start" x="4011.7457" y="-714.3" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="4011.7457" y="-697.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;createOtoken(_underlyingAsset: address, _strikeAsset: address, _collateralAsset: address, _strikePrice: uint256, _expiry: uint256, _isPut: bool): address</text>
<text text-anchor="start" x="4011.7457" y="-680.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getOtokensLength(): uint256</text>
<text text-anchor="start" x="4011.7457" y="-663.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getOtoken(_underlyingAsset: address, _strikeAsset: address, _collateralAsset: address, _strikePrice: uint256, _expiry: uint256, _isPut: bool): address</text>
<text text-anchor="start" x="4011.7457" y="-647.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getTargetOtokenAddress(_underlyingAsset: address, _strikeAsset: address, _collateralAsset: address, _strikePrice: uint256, _expiry: uint256, _isPut: bool): address</text>
<text text-anchor="start" x="4011.7457" y="-630.3" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="4011.7457" y="-613.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; OtokenCreated(tokenAddress: address, creator: address, underlying: address, strike: address, collateral: address, strikePrice: uint256, expiry: uint256, isPut: bool)</text>
<text text-anchor="start" x="4011.7457" y="-596.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor(_addressBook: address)</text>
</g>
<!-- 7 -->
<g id="node12" class="node">
<title>7</title>
<polygon fill="#f2f2f2" stroke="#000000" points="4241.7233,-1917.9 4241.7233,-2042.7 4767.0125,-2042.7 4767.0125,-1917.9 4241.7233,-1917.9"/>
<text text-anchor="middle" x="4504.3679" y="-2026.1" font-family="Times,serif" font-size="14.00" fill="#000000">OtokenSpawner</text>
<polyline fill="none" stroke="#000000" points="4241.7233,-2017.9 4767.0125,-2017.9 "/>
<text text-anchor="start" x="4249.7233" y="-2001.3" font-family="Times,serif" font-size="14.00" fill="#000000">Private:</text>
<text text-anchor="start" x="4249.7233" y="-1984.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;SALT: bytes32</text>
<polyline fill="none" stroke="#000000" points="4241.7233,-1976.3 4767.0125,-1976.3 "/>
<text text-anchor="start" x="4249.7233" y="-1959.7" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="4249.7233" y="-1942.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_spawn(logicContract: address, initializationCalldata: bytes): address</text>
<text text-anchor="start" x="4249.7233" y="-1926.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_computeAddress(logicContract: address, initializationCalldata: bytes): (target: address)</text>
</g>
<!-- 6&#45;&gt;7 -->
<g id="edge5" class="edge">
<title>6&#45;&gt;7</title>
<path fill="none" stroke="#000000" d="M4504.3679,-898.4019C4504.3679,-1158.9146 4504.3679,-1676.5261 4504.3679,-1887.5187"/>
<polygon fill="none" stroke="#000000" points="4493.868,-1887.8002 4504.3679,-1917.8002 4514.868,-1887.8002 4493.868,-1887.8002"/>
</g>
<!-- 8 -->
<g id="node13" class="node">
<title>8</title>
<polygon fill="#f2f2f2" stroke="#000000" points="5022.6087,-462.5 5022.6087,-1024.1 5738.1271,-1024.1 5738.1271,-462.5 5022.6087,-462.5"/>
<text text-anchor="middle" x="5380.3679" y="-1007.5" font-family="Times,serif" font-size="14.00" fill="#000000">Whitelist</text>
<polyline fill="none" stroke="#000000" points="5022.6087,-999.3 5738.1271,-999.3 "/>
<text text-anchor="start" x="5030.6087" y="-982.7" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="5030.6087" y="-965.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;whitelistedProduct: mapping(bytes32=&gt;bool)</text>
<text text-anchor="start" x="5030.6087" y="-949.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;whitelistedCollateral: mapping(address=&gt;bool)</text>
<text text-anchor="start" x="5030.6087" y="-932.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;whitelistedOtoken: mapping(address=&gt;bool)</text>
<text text-anchor="start" x="5030.6087" y="-915.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;whitelistedCallee: mapping(address=&gt;bool)</text>
<text text-anchor="start" x="5030.6087" y="-898.7" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="5030.6087" y="-881.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;addressBook: address</text>
<polyline fill="none" stroke="#000000" points="5022.6087,-873.7 5738.1271,-873.7 "/>
<text text-anchor="start" x="5030.6087" y="-857.1" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="5030.6087" y="-840.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;isWhitelistedProduct(_underlying: address, _strike: address, _collateral: address, _isPut: bool): bool</text>
<text text-anchor="start" x="5030.6087" y="-823.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;isWhitelistedCollateral(_collateral: address): bool</text>
<text text-anchor="start" x="5030.6087" y="-806.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;isWhitelistedOtoken(_otoken: address): bool</text>
<text text-anchor="start" x="5030.6087" y="-789.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;isWhitelistedCallee(_callee: address): bool</text>
<text text-anchor="start" x="5030.6087" y="-773.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;whitelistProduct(_underlying: address, _strike: address, _collateral: address, _isPut: bool)</text>
<text text-anchor="start" x="5030.6087" y="-756.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;blacklistProduct(_underlying: address, _strike: address, _collateral: address, _isPut: bool)</text>
<text text-anchor="start" x="5030.6087" y="-739.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;whitelistCollateral(_collateral: address)</text>
<text text-anchor="start" x="5030.6087" y="-722.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;blacklistCollateral(_collateral: address)</text>
<text text-anchor="start" x="5030.6087" y="-705.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;whitelistOtoken(_otokenAddress: address)</text>
<text text-anchor="start" x="5030.6087" y="-689.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;blacklistOtoken(_otokenAddress: address)</text>
<text text-anchor="start" x="5030.6087" y="-672.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;whitelistCallee(_callee: address)</text>
<text text-anchor="start" x="5030.6087" y="-655.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;blacklistCallee(_callee: address)</text>
<text text-anchor="start" x="5030.6087" y="-638.7" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="5030.6087" y="-621.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; ProductWhitelisted(productHash: bytes32, underlying: address, strike: address, collateral: address, isPut: bool)</text>
<text text-anchor="start" x="5030.6087" y="-605.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; ProductBlacklisted(productHash: bytes32, underlying: address, strike: address, collateral: address, isPut: bool)</text>
<text text-anchor="start" x="5030.6087" y="-588.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; CollateralWhitelisted(collateral: address)</text>
<text text-anchor="start" x="5030.6087" y="-571.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; CollateralBlacklisted(collateral: address)</text>
<text text-anchor="start" x="5030.6087" y="-554.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; OtokenWhitelisted(otoken: address)</text>
<text text-anchor="start" x="5030.6087" y="-537.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; OtokenBlacklisted(otoken: address)</text>
<text text-anchor="start" x="5030.6087" y="-521.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; CalleeWhitelisted(_callee: address)</text>
<text text-anchor="start" x="5030.6087" y="-504.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; CalleeBlacklisted(_callee: address)</text>
<text text-anchor="start" x="5030.6087" y="-487.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyFactory()</text>
<text text-anchor="start" x="5030.6087" y="-470.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor(_addressBook: address)</text>
</g>
</g>
</svg>
